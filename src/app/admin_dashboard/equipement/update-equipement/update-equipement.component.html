<div class="form">
  <h2 id="registration">Update Equipement</h2>
  <form
    [formGroup]="equipementForm"
    (ngSubmit)="onSubmit()"
    style="height: 500px; overflow-y: scroll"
  >
    <div style="display: flex">
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="serialNumber">Serial Number</label>
          <input
            type="text"
            id="serialNumber"
            placeholder="Serial Number.."
            formControlName="serialNumber"
            #serialNumber
            required
          />
          <small *ngIf="serialNumber.invalid && serialNumber.touched"
            >Serial Number is a required field</small
          >
        </div>
      </div>

      <div style="flex: 1">
        <div style="width: 90%">
          <label for="localisation">Localisation</label>
          <input
            type="text"
            id="localisation"
            placeholder="Localisation.."
            formControlName="localisation"
            #localisation
            required
          />
          <small *ngIf="localisation.invalid && localisation.touched"
            >Localisation is a required field</small
          >
        </div>
      </div>
    </div>
    <div style="display: flex">
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="host">Host</label>
          <input
            type="text"
            id="host"
            placeholder="Host.."
            formControlName="host"
            #host
            required
          />
          <small *ngIf="host.invalid && host.touched"
            >Host is a required field</small
          >
        </div>
      </div>
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="ipAddress">IP Address</label>
          <input
            type="text"
            id="ipAddress"
            placeholder="ipAddress.."
            formControlName="ipAddress"
            #ipAddress
            required
          />
          <small *ngIf="ipAddress.invalid && ipAddress.touched"
            >ipAddress is a required field</small
          >
        </div>
      </div>
    </div>
    <div style="display: flex">
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="image">Image</label>
          <input
            type="text"
            id="image"
            formControlName="image"
            placeholder="image.."
            #image
            required
          />
          <small *ngIf="image.invalid && image.touched"
            >image is a required field</small
          >
        </div>
      </div>
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="model">Model</label>
          <input
            type="text"
            id="model"
            formControlName="model"
            placeholder="model.."
            #model
            required
          />
          <small *ngIf="model.invalid && model.touched"
            >model is a required field</small
          >
        </div>
      </div>
    </div>

    <div style="display: flex">
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="actualOS">Actual OS</label>
          <input
            type="text"
            id="actualOS"
            formControlName="actualOS"
            placeholder="actualOS.."
            #actualOS
            required
          />
          <small *ngIf="actualOS.invalid && actualOS.touched"
            >actualOS is a required field</small
          >
        </div>
      </div>
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="recolOS">Recol OS</label>
          <input
            type="text"
            id="recolOS"
            placeholder="recolOS.."
            formControlName="recolOS"
            #recolOS
            required
          />
          <small *ngIf="recolOS.invalid && recolOS.touched"
            >recolOS is a required field</small
          >
        </div>
      </div>
    </div>

    <div style="display: flex">
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="eos">End of support</label>
          <input
            type="date"
            id="eos"
            formControlName="eos"
            placeholder="eos.."
            [min]="currentDateTime"
            #eos
            required
          />
          <small *ngIf="eos.invalid && eos.touched"
            >eos is a required field</small
          >
        </div>
      </div>

      <div style="flex: 1">
        <div style="width: 90%">
          <label for="eol">End of life</label>
          <input
            type="date"
            id="eol"
            formControlName="eol"
            placeholder="eol.."
            [min]="currentDateTime"
            #eol
            required
          />
          <small *ngIf="eol.invalid && eol.touched"
            >eol is a required field</small
          >
        </div>
      </div>
    </div>
    <div style="display: flex">
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="constructer">Constructer</label>
          <input
            type="text"
            id="constructer"
            formControlName="constructer"
            placeholder="constructer.."
            #constructer
            required
          />
          <small *ngIf="constructer.invalid && constructer.touched"
            >Constructer is a required field</small
          >
        </div>
      </div>
      <div style="flex: 1">
        <div style="width: 90%">
          <label for="productGroup">Product Group:</label>
          <select id="productGroup" formControlName="productGroup">
            <option *ngFor="let group of productGroup" [value]="group">
              {{ group }}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div style="display: flex">
      <div style="flex: 1">
        <div style="width: 45%">
          <div class="form-group">
            <label for="contratId">Contract</label>
            <mat-form-field appearance="fill" style="width: 100%">
              <mat-label>Select Contract</mat-label>
              <mat-select id="contratId" formControlName="contratId">
                <mat-option
                  *ngFor="let contract of contracts"
                  [value]="contract.id"
                  >{{ contract.reference }}</mat-option
                >
              </mat-select>
            </mat-form-field>
          </div>
        </div>
      </div>
      <div style="flex: 1">
        <div style="width: 90%">
          <div class="form-group">
            <label *ngIf="equipement.file" for="file"
              >Change current file : <b>{{ equipement.file.fileName }}</b>
            </label>
            <input type="file" (change)="onFileChange($event.target.files)" />
          </div>
        </div>
      </div>
    </div>

    <input type="submit" value="Submit" id="btn" />
  </form>
</div>
